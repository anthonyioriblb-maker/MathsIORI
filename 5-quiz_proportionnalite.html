<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz - Reconnaissance de la Proportionnalit√©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Comic Sans MS', 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: fadeIn 0.6s ease-in;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.2em;
            font-family: Arial, sans-serif;
        }
        
        .quiz-info {
            display: flex;
            justify-content: space-around;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            font-family: Arial, sans-serif;
        }
        
        .info-item {
            text-align: center;
        }
        
        .info-label {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 5px;
        }
        
        .info-value {
            color: #667eea;
            font-size: 1.5em;
            font-weight: bold;
        }
        
        .question-container {
            display: none;
            animation: slideIn 0.5s ease;
        }
        
        .question-container.active {
            display: block;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .question-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .question-number {
            font-size: 1.2em;
            font-weight: bold;
        }
        
        .question-body {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 0 0 15px 15px;
            margin-bottom: 30px;
        }
        
        .question-text {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 30px;
            line-height: 1.6;
            font-family: Arial, sans-serif;
        }
        
        .table-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-family: Arial, sans-serif;
        }
        
        th, td {
            border: 2px solid #667eea;
            padding: 15px;
            text-align: center;
            font-size: 1.1em;
        }
        
        th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }
        
        td {
            background: white;
        }
        
        .situation-text {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #667eea;
            font-size: 1.1em;
            line-height: 1.6;
        }
        
        .options {
            display: grid;
            gap: 15px;
        }
        
        .option {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 3px solid #ddd;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: Arial, sans-serif;
            font-size: 1.1em;
        }
        
        .option:hover {
            border-color: #667eea;
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }
        
        .option.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }
        
        .option.correct {
            border-color: #48bb78;
            background: #f0fff4;
        }
        
        .option.incorrect {
            border-color: #ff5e62;
            background: #fff5f5;
        }
        
        .option.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }
        
        .option-label {
            display: inline-block;
            background: #667eea;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            text-align: center;
            line-height: 35px;
            font-weight: bold;
            margin-right: 15px;
        }
        
        .option.correct .option-label {
            background: #48bb78;
        }
        
        .option.incorrect .option-label {
            background: #ff5e62;
        }
        
        .explanation {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
            font-family: Arial, sans-serif;
        }
        
        .explanation.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .explanation-title {
            font-weight: bold;
            color: #1565c0;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .fraction {
            display: inline-block;
            vertical-align: middle;
            text-align: center;
            margin: 0 3px;
        }
        
        .fraction-numerator {
            display: block;
            border-bottom: 2px solid #333;
            padding: 2px 8px;
            font-size: 1em;
        }
        
        .fraction-denominator {
            display: block;
            padding: 2px 8px;
            font-size: 1em;
        }
        
        .button-group {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 15px;
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: Arial, sans-serif;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.6);
        }
        
        .btn-secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }
        
        .btn-secondary:hover {
            background: #667eea;
            color: white;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .results-container {
            display: none;
            text-align: center;
            padding: 40px;
        }
        
        .results-container.show {
            display: block;
            animation: fadeIn 0.6s ease;
        }
        
        .results-score {
            background: linear-gradient(135deg, #48bb78 0%, #38f9d7 100%);
            color: white;
            padding: 40px;
            border-radius: 20px;
            margin: 30px 0;
        }
        
        .results-score.low {
            background: linear-gradient(135deg, #ff5e62 0%, #ff9966 100%);
        }
        
        .results-score.medium {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }
        
        .score-big {
            font-size: 4em;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .score-message {
            font-size: 1.5em;
            margin-top: 15px;
        }
        
        .results-details {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            font-family: Arial, sans-serif;
        }
        
        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            border-bottom: 1px solid #ddd;
        }
        
        .detail-row:last-child {
            border-bottom: none;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 15px;
        }
        
        .nav-btn {
            padding: 15px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            transition: all 0.3s ease;
            display: inline-block;
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.6);
        }
        
        .floating-next {
            position: fixed;
            right: 20px;
            bottom: 20px;
            z-index: 9999;
            border-radius: 30px;
            padding: 12px 20px;
            font-size: 1.05em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Quiz - Proportionnalit√©</h1>
            <p class="subtitle">Reconna√Ætre une situation de proportionnalit√© - 6√®me</p>
        </div>
        
        <div class="quiz-info">
            <div class="info-item">
                <div class="info-label">Questions</div>
                <div class="info-value" id="totalQuestions">8</div>
            </div>
            <div class="info-item">
                <div class="info-label">Question actuelle</div>
                <div class="info-value" id="currentQuestion">1</div>
            </div>
            <div class="info-item">
                <div class="info-label">Score</div>
                <div class="info-value" id="currentScore">0</div>
            </div>
        </div>

        <div id="questionsContainer"></div>

        <div class="button-group" id="quizButtons">
            <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" style="display:none;">‚Üê Pr√©c√©dent</button>
            <button class="btn btn-primary" id="validateBtn" onclick="validateAnswer()" disabled>Valider la r√©ponse</button>
            <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>Suivant ‚Üí</button>
            <button class="btn btn-primary" id="finishBtn" onclick="showResults()" disabled>Voir les r√©sultats üéâ</button>
        </div>

        <div class="results-container" id="resultsContainer">
            <h2>üéâ Quiz termin√© !</h2>
            
            <div class="results-score" id="resultsScore">
                <div class="score-big" id="scoreBig">0/8</div>
                <div class="score-message" id="scoreMessage">Bravo !</div>
            </div>

            <div class="results-details">
                <div class="detail-row">
                    <span><strong>Bonnes r√©ponses :</strong></span>
                    <span id="correctCount">0</span>
                </div>
                <div class="detail-row">
                    <span><strong>Mauvaises r√©ponses :</strong></span>
                    <span id="incorrectCount">0</span>
                </div>
                <div class="detail-row">
                    <span><strong>Pourcentage :</strong></span>
                    <span id="percentage">0%</span>
                </div>
            </div>

            <div class="navigation">
                <a href="#" class="nav-btn">‚Üê Retour au chapitre</a>
                <button class="btn btn-primary" onclick="restartQuiz()">üîÑ Recommencer</button>
            </div>
        </div>

        <div class="navigation" id="initialNav">
            <a href="#" class="nav-btn">‚Üê Retour au chapitre</a>
        </div>
        
        <button id="floatingNextBtn" class="btn btn-primary floating-next" onclick="nextQuestion()" disabled aria-label="Suivant">Suivant ‚Üí</button>
    </div>

    <script>
        // √âNORME BANQUE DE DONN√âES - Situations de proportionnalit√©
        const questionBank = {
            // PROPORTIONNELS - Prix unitaires
            proportional: [
                // Alimentation
                {cat: 'prix', item: 'croissants', unit: '‚Ç¨', values: [[2,5,8], [3,7.5,12]], coef: 1.5},
                {cat: 'prix', item: 'croissants', unit: '‚Ç¨', values: [[3,6,9], [3.6,7.2,10.8]], coef: 1.2},
                {cat: 'prix', item: 'baguettes', unit: '‚Ç¨', values: [[1,4,7], [1.1,4.4,7.7]], coef: 1.1},
                {cat: 'prix', item: 'baguettes', unit: '‚Ç¨', values: [[2,5,10], [2.4,6,12]], coef: 1.2},
                {cat: 'prix', item: 'pommes', unit: 'kg/‚Ç¨', values: [[1,3,5], [2.5,7.5,12.5]], coef: 2.5},
                {cat: 'prix', item: 'pommes', unit: 'kg/‚Ç¨', values: [[2,4,6], [5.8,11.6,17.4]], coef: 2.9},
                {cat: 'prix', item: 'oranges', unit: 'kg/‚Ç¨', values: [[1,2,5], [3.2,6.4,16]], coef: 3.2},
                {cat: 'prix', item: 'tomates', unit: 'kg/‚Ç¨', values: [[2,5,8], [7,17.5,28]], coef: 3.5},
                {cat: 'prix', item: 'carottes', unit: 'kg/‚Ç¨', values: [[3,6,9], [4.5,9,13.5]], coef: 1.5},
                {cat: 'prix', item: 'bananes', unit: 'kg/‚Ç¨', values: [[1,4,7], [1.8,7.2,12.6]], coef: 1.8},
                {cat: 'prix', item: 'fraises', unit: 'kg/‚Ç¨', values: [[1,2,4], [5.5,11,22]], coef: 5.5},
                {cat: 'prix', item: 'poires', unit: 'kg/‚Ç¨', values: [[2,5,10], [6.4,16,32]], coef: 3.2},
                {cat: 'prix', item: 'cerises', unit: 'kg/‚Ç¨', values: [[1,3,5], [8,24,40]], coef: 8},
                {cat: 'prix', item: 'pains au chocolat', unit: '‚Ç¨', values: [[3,5,8], [4.5,7.5,12]], coef: 1.5},
                {cat: 'prix', item: 'pains au chocolat', unit: '‚Ç¨', values: [[2,6,10], [2.8,8.4,14]], coef: 1.4},
                {cat: 'prix', item: 'bonbons', unit: 'g/‚Ç¨', values: [[100,250,500], [2,5,10]], coef: 0.02},
                {cat: 'prix', item: 'chocolats', unit: '‚Ç¨', values: [[2,5,10], [3,7.5,15]], coef: 1.5},
                {cat: 'prix', item: 'g√¢teaux', unit: '‚Ç¨', values: [[1,3,6], [4.5,13.5,27]], coef: 4.5},
                {cat: 'prix', item: 'tartes', unit: '‚Ç¨', values: [[1,2,4], [12,24,48]], coef: 12},
                {cat: 'prix', item: 'yaourts', unit: '‚Ç¨', values: [[4,8,12], [2.4,4.8,7.2]], coef: 0.6},
                {cat: 'prix', item: 'fromages', unit: 'g/‚Ç¨', values: [[200,500,1000], [4,10,20]], coef: 0.02},
                {cat: 'prix', item: 'bouteilles d\'eau', unit: '‚Ç¨', values: [[6,12,24], [3,6,12]], coef: 0.5},
                {cat: 'prix', item: 'jus d\'orange', unit: 'L/‚Ç¨', values: [[1,2,5], [2.5,5,12.5]], coef: 2.5},
                {cat: 'prix', item: 'pizzas', unit: '‚Ç¨', values: [[1,3,5], [8,24,40]], coef: 8},
                {cat: 'prix', item: 'sandwichs', unit: '‚Ç¨', values: [[2,5,10], [10,25,50]], coef: 5},
                
                // Fournitures
                {cat: 'prix', item: 'cahiers', unit: '‚Ç¨', values: [[2,5,10], [4,10,20]], coef: 2},
                {cat: 'prix', item: 'crayons', unit: '‚Ç¨', values: [[3,6,12], [1.5,3,6]], coef: 0.5},
                {cat: 'prix', item: 'stylos', unit: '‚Ç¨', values: [[4,8,12], [6,12,18]], coef: 1.5},
                {cat: 'prix', item: 'gommes', unit: '‚Ç¨', values: [[5,10,20], [2.5,5,10]], coef: 0.5},
                {cat: 'prix', item: 'classeurs', unit: '‚Ç¨', values: [[1,3,6], [3.5,10.5,21]], coef: 3.5},
                {cat: 'prix', item: 'r√®gles', unit: '‚Ç¨', values: [[2,6,10], [2.4,7.2,12]], coef: 1.2},
                {cat: 'prix', item: 'ciseaux', unit: '‚Ç¨', values: [[1,4,8], [2.5,10,20]], coef: 2.5},
                {cat: 'prix', item: 'tubes de colle', unit: '‚Ç¨', values: [[3,6,9], [4.5,9,13.5]], coef: 1.5},
                {cat: 'prix', item: 'feuilles (paquets)', unit: '‚Ç¨', values: [[1,2,5], [4,8,20]], coef: 4},
                {cat: 'prix', item: 'trousses', unit: '‚Ç¨', values: [[1,2,4], [7,14,28]], coef: 7},
                
                // Distance/Temps/Vitesse
                {cat: 'vitesse', item: 'v√©lo', unit: 'km/h', values: [[1,2,4], [15,30,60]], coef: 15},
                {cat: 'vitesse', item: 'v√©lo', unit: 'km/h', values: [[2,5,10], [40,100,200]], coef: 20},
                {cat: 'vitesse', item: 'voiture', unit: 'km/h', values: [[1,3,5], [90,270,450]], coef: 90},
                {cat: 'vitesse', item: 'voiture', unit: 'km/h', values: [[2,4,6], [220,440,660]], coef: 110},
                {cat: 'vitesse', item: 'train', unit: 'km/h', values: [[1,2,3], [120,240,360]], coef: 120},
                {cat: 'vitesse', item: 'pi√©ton', unit: 'km/h', values: [[1,3,6], [5,15,30]], coef: 5},
                {cat: 'vitesse', item: 'coureur', unit: 'km/h', values: [[1,2,5], [12,24,60]], coef: 12},
                {cat: 'vitesse', item: 'trottinette', unit: 'km/h', values: [[2,5,10], [18,45,90]], coef: 9},
                
                // Consommation
                {cat: 'conso', item: 'essence', unit: 'L/km', values: [[50,100,200], [4,8,16]], coef: 0.08},
                {cat: 'conso', item: 'essence', unit: 'L/km', values: [[100,200,500], [7,14,35]], coef: 0.07},
                {cat: 'conso', item: 'essence', unit: 'L/km', values: [[50,150,300], [3,9,18]], coef: 0.06},
                {cat: 'conso', item: 'essence', unit: 'L/km', values: [[100,250,400], [9,22.5,36]], coef: 0.09},
                {cat: 'conso', item: '√©lectricit√©', unit: 'kWh/h', values: [[1,5,10], [2,10,20]], coef: 2},
                {cat: 'conso', item: 'eau', unit: 'L/min', values: [[1,3,6], [12,36,72]], coef: 12},
                
                // G√©om√©trie
                {cat: 'geo', item: 'p√©rim√®tre carr√©', unit: 'cm', values: [[2,4,6], [8,16,24]], coef: 4},
                {cat: 'geo', item: 'p√©rim√®tre carr√©', unit: 'cm', values: [[3,5,8], [12,20,32]], coef: 4},
                {cat: 'geo', item: 'p√©rim√®tre carr√©', unit: 'cm', values: [[1,7,10], [4,28,40]], coef: 4},
                {cat: 'geo', item: 'p√©rim√®tre rectangle (L=2√ól)', unit: 'cm', values: [[1,3,5], [6,18,30]], coef: 6},
                {cat: 'geo', item: 'circonf√©rence (œÄ‚âà3)', unit: 'cm', values: [[2,5,10], [6,15,30]], coef: 3},
                
                // Recettes
                {cat: 'recette', item: 'cr√™pes', unit: 'personnes', values: [[3,6,9], [12,24,36]], coef: 4},
                {cat: 'recette', item: 'cr√™pes', unit: 'personnes', values: [[2,5,10], [10,25,50]], coef: 5},
                {cat: 'recette', item: 'cr√™pes', unit: 'personnes', values: [[4,8,12], [12,24,36]], coef: 3},
                {cat: 'recette', item: 'g√¢teaux', unit: 'personnes', values: [[2,6,10], [8,24,40]], coef: 4},
                {cat: 'recette', item: 'cookies', unit: 'personnes', values: [[3,5,10], [18,30,60]], coef: 6},
                {cat: 'recette', item: 'farine (pour g√¢teau)', unit: 'g/pers', values: [[2,4,8], [150,300,600]], coef: 75},
                {cat: 'recette', item: 'sucre (pour g√¢teau)', unit: 'g/pers', values: [[3,6,12], [150,300,600]], coef: 50},
                
                // Travail/Production
                {cat: 'prod', item: 'pages photocopi√©es', unit: 'min', values: [[1,5,10], [30,150,300]], coef: 30},
                {cat: 'prod', item: 'pi√®ces fabriqu√©es', unit: 'h', values: [[2,5,10], [80,200,400]], coef: 40},
                {cat: 'prod', item: 'bouteilles remplies', unit: 'min', values: [[1,3,5], [60,180,300]], coef: 60},
                {cat: 'prod', item: 'cartons emball√©s', unit: 'h', values: [[1,4,8], [25,100,200]], coef: 25},
                
                // Monnaie/Change
                {cat: 'change', item: 'euros en dollars', unit: '$/‚Ç¨', values: [[10,50,100], [11,55,110]], coef: 1.1},
                {cat: 'change', item: 'euros en livres', unit: '¬£/‚Ç¨', values: [[20,60,100], [17,51,85]], coef: 0.85},
                {cat: 'change', item: 'euros en francs suisses', unit: 'CHF/‚Ç¨', values: [[10,40,100], [11,44,110]], coef: 1.1},
                
                // Masse
                {cat: 'masse', item: 'paquets (200g chacun)', unit: 'g', values: [[1,5,10], [200,1000,2000]], coef: 200},
                {cat: 'masse', item: 'bo√Ætes (500g chacune)', unit: 'g', values: [[2,6,10], [1000,3000,5000]], coef: 500},
            ],
            
            // NON-PROPORTIONNELS
            nonProportional: [
                // √Çges (diff√©rence constante)
                {type: 'age', person1: 'Marie', person2: 'son fr√®re', ages1: [8,10,12], diff: 4},
                {type: 'age', person1: 'Paul', person2: 'sa s≈ìur', ages1: [10,12,15], diff: 3},
                {type: 'age', person1: 'Sophie', person2: 'son cousin', ages1: [7,9,12], diff: 2},
                {type: 'age', person1: 'Lucas', person2: 'sa m√®re', ages1: [5,10,15], diff: 30},
                {type: 'age', person1: 'Emma', person2: 'son p√®re', ages1: [8,12,16], diff: 35},
                {type: 'age', person1: 'Tom', person2: 'son grand-p√®re', ages1: [10,15,20], diff: 50},
                {type: 'age', person1: 'L√©a', person2: 'sa tante', ages1: [6,10,14], diff: 20},
                
                // Aires (au carr√©)
                {type: 'aire', shape: 'carr√©', sides: [2,4,6], power: 2},
                {type: 'aire', shape: 'carr√©', sides: [3,5,8], power: 2},
                {type: 'aire', shape: 'carr√©', sides: [1,4,7], power: 2},
                {type: 'aire', shape: 'rectangle (L=2√ól)', sides: [2,5,10], mult: 2},
                {type: 'aire', shape: 'rectangle (L=3√ól)', sides: [1,3,6], mult: 3},
                
                // Prix fixes + variable
                {type: 'fixe', service: 'taxi', base: 5, perUnit: 2, unit: 'km'},
                {type: 'fixe', service: 'taxi', base: 4, perUnit: 2.5, unit: 'km'},
                {type: 'fixe', service: 'taxi', base: 6, perUnit: 1.5, unit: 'km'},
                {type: 'fixe', service: 'plombier', base: 40, perUnit: 25, unit: 'heure'},
                {type: 'fixe', service: 'plombier', base: 50, perUnit: 30, unit: 'heure'},
                {type: 'fixe', service: '√©lectricien', base: 35, perUnit: 28, unit: 'heure'},
                {type: 'fixe', service: 'r√©paration v√©lo', base: 10, perUnit: 5, unit: 'pi√®ce chang√©e'},
                {type: 'fixe', service: 'parking', base: 2, perUnit: 1.5, unit: 'heure'},
                {type: 'fixe', service: 'parking', base: 3, perUnit: 2, unit: 'heure'},
                {type: 'fixe', service: 'location voiture', base: 50, perUnit: 0.3, unit: 'km'},
                {type: 'fixe', service: 'location v√©lo', base: 5, perUnit: 2, unit: 'heure'},
                
                // Abonnements (prix fixe)
                {type: 'abonnement', service: 'biblioth√®que', price: 15, unit: 'livres emprunt√©s'},
                {type: 'abonnement', service: 'biblioth√®que', price: 20, unit: 'livres emprunt√©s'},
                {type: 'abonnement', service: 'piscine', price: 30, unit: 'entr√©es'},
                {type: 'abonnement', service: 'salle de sport', price: 45, unit: 's√©ances'},
                {type: 'abonnement', service: 'cin√©ma', price: 25, unit: 'films vus'},
                {type: 'abonnement', service: 'mus√©e', price: 35, unit: 'visites'},
                {type: 'abonnement', service: 'bus', price: 40, unit: 'trajets'},
                {type: 'abonnement', service: 'train', price: 75, unit: 'voyages'},
                
                // Temp√©rature (√©chelles)
                {type: 'temp', from: 'Celsius', to: 'Fahrenheit', formula: 'F = 1.8C + 32'},
                {type: 'temp', from: 'Celsius', to: 'Kelvin', formula: 'K = C + 273'},
                
                // Autres non-proportionnels
                {type: 'suite', name: 'suite arithm√©tique', values: [5,8,11,14], reason: '+3'},
                {type: 'suite', name: 'nombres carr√©s', values: [1,4,9,16], reason: 'n¬≤'},
                {type: 'suite', name: 'nombres impairs', values: [1,3,5,7], reason: '+2'},
            ]
        };

        let quizData = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let selectedAnswer = null;
        let answeredQuestions = [];

        function shuffleArray(array) {
            const arr = [...array];
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        }

        function formatNumber(num) {
            return num % 1 === 0 ? num : num.toFixed(2).replace(/\.?0+$/, '');
        }

        function createFraction(num, den) {
            return `<span class="fraction"><span class="fraction-numerator">${formatNumber(num)}</span><span class="fraction-denominator">${formatNumber(den)}</span></span>`;
        }

        function generateProportionalQuestion(data) {
            const reverse = Math.random() < 0.5;
            let header1, header2, row1, row2, explanation;

            if (data.cat === 'prix') {
                const itemName = data.item;
                header1 = reverse ? `Prix en ${data.unit}` : `Nombre de ${itemName}`;
                header2 = reverse ? `Nombre de ${itemName}` : `Prix en ${data.unit}`;
                row1 = reverse ? data.values[1] : data.values[0];
                row2 = reverse ? data.values[0] : data.values[1];
                
                if (reverse) {
                    const ratio = formatNumber(data.values[0][0] / data.values[1][0]);
                    explanation = `Oui ! On v√©rifie : ${createFraction(row2[0], row1[0])} = ${ratio} ; ${createFraction(row2[1], row1[1])} = ${ratio} ; ${createFraction(row2[2], row1[2])} = ${ratio}. Le coefficient est ${ratio} ${itemName}/‚Ç¨.`;
                } else {
                    explanation = `Oui ! On v√©rifie : ${createFraction(row2[0], row1[0])} = ${formatNumber(data.coef)} ; ${createFraction(row2[1], row1[1])} = ${formatNumber(data.coef)} ; ${createFraction(row2[2], row1[2])} = ${formatNumber(data.coef)}. Le coefficient est ${formatNumber(data.coef)} ‚Ç¨/${itemName.replace('de ', '').slice(0, -1)}.`;
                }
            } else if (data.cat === 'vitesse') {
                header1 = reverse ? `Distance (km)` : `Temps (heures)`;
                header2 = reverse ? `Temps (heures)` : `Distance (km)`;
                row1 = reverse ? data.values[1] : data.values[0];
                row2 = reverse ? data.values[0] : data.values[1];
                
                if (reverse) {
                    const ratio = formatNumber(data.values[0][0] / data.values[1][0]);
                    explanation = `Oui ! La distance est proportionnelle au temps pour un ${data.item}. ${createFraction(row2[0], row1[0])} = ${ratio} ; ${createFraction(row2[1], row1[1])} = ${ratio} ; ${createFraction(row2[2], row1[2])} = ${ratio}. Vitesse constante : ${ratio} h/km.`;
                } else {
                    explanation = `Oui ! La distance parcourue est proportionnelle au temps. ${createFraction(row2[0], row1[0])} = ${formatNumber(data.coef)} ; ${createFraction(row2[1], row1[1])} = ${formatNumber(data.coef)} ; ${createFraction(row2[2], row1[2])} = ${formatNumber(data.coef)}. Le ${data.item} roule √† ${formatNumber(data.coef)} km/h.`;
                }
            } else if (data.cat === 'conso') {
                header1 = reverse ? `${data.item.charAt(0).toUpperCase() + data.item.slice(1)} consomm√©e (L)` : `Distance (km)`;
                header2 = reverse ? `Distance (km)` : `${data.item.charAt(0).toUpperCase() + data.item.slice(1)} consomm√©e (L)`;
                row1 = reverse ? data.values[1] : data.values[0];
                row2 = reverse ? data.values[0] : data.values[1];
                
                if (reverse) {
                    const ratio = formatNumber(data.values[0][0] / data.values[1][0]);
                    explanation = `Oui ! La distance est proportionnelle √† la consommation. ${createFraction(row2[0], row1[0])} = ${ratio} ; ${createFraction(row2[1], row1[1])} = ${ratio} ; ${createFraction(row2[2], row1[2])} = ${ratio}. Le coefficient est constant.`;
                } else {
                    explanation = `Oui ! La consommation est proportionnelle √† la distance. ${createFraction(row2[0], row1[0])} = ${formatNumber(data.coef)} ; ${createFraction(row2[1], row1[1])} = ${formatNumber(data.coef)} ; ${createFraction(row2[2], row1[2])} = ${formatNumber(data.coef)}. Consommation : ${formatNumber(data.coef)} L/km.`;
                }
            } else if (data.cat === 'geo') {
                header1 = reverse ? data.item.includes('p√©rim√®tre') ? 'P√©rim√®tre (cm)' : 'Circonf√©rence (cm)' : 'C√¥t√© (cm)';
                header2 = reverse ? 'C√¥t√© (cm)' : data.item.includes('p√©rim√®tre') ? 'P√©rim√®tre (cm)' : 'Circonf√©rence (cm)';
                row1 = reverse ? data.values[1] : data.values[0];
                row2 = reverse ? data.values[0] : data.values[1];
                
                if (reverse) {
                    const ratio = formatNumber(data.values[0][0] / data.values[1][0]);
                    explanation = `Oui ! ${createFraction(row2[0], row1[0])} = ${ratio} ; ${createFraction(row2[1], row1[1])} = ${ratio} ; ${createFraction(row2[2], row1[2])} = ${ratio}. Le coefficient est ${ratio}.`;
                } else {
                    explanation = `Oui ! Le ${data.item} est proportionnel. ${createFraction(row2[0], row1[0])} = ${formatNumber(data.coef)} ; ${createFraction(row2[1], row1[1])} = ${formatNumber(data.coef)} ; ${createFraction(row2[2], row1[2])} = ${formatNumber(data.coef)}. Le coefficient est ${formatNumber(data.coef)}.`;
                }
            } else if (data.cat === 'recette') {
                header1 = reverse ? `Nombre de ${data.item}` : `Nombre de ${data.values[0].length > 2 ? 'personnes' : 'parts'}`;
                header2 = reverse ? `Nombre de ${data.values[0].length > 2 ? 'personnes' : 'parts'}` : `Nombre de ${data.item}`;
                row1 = reverse ? data.values[1] : data.values[0];
                row2 = reverse ? data.values[0] : data.values[1];
                
                if (reverse) {
                    const ratio = formatNumber(data.values[0][0] / data.values[1][0]);
                    explanation = `Oui ! ${createFraction(row2[0], row1[0])} = ${ratio} ; ${createFraction(row2[1], row1[1])} = ${ratio} ; ${createFraction(row2[2], row1[2])} = ${ratio}. Chaque personne : ${ratio} ${data.item.slice(0, -1)}.`;
                } else {
                    explanation = `Oui ! Le nombre de ${data.item} est proportionnel. ${createFraction(row2[0], row1[0])} = ${formatNumber(data.coef)} ; ${createFraction(row2[1], row1[1])} = ${formatNumber(data.coef)} ; ${createFraction(row2[2], row1[2])} = ${formatNumber(data.coef)}. Chaque personne : ${formatNumber(data.coef)} ${data.item.slice(0, -1)}.`;
                }
            } else if (data.cat === 'prod') {
                header1 = reverse ? data.item.charAt(0).toUpperCase() + data.item.slice(1) : `Temps (${data.unit})`;
                header2 = reverse ? `Temps (${data.unit})` : data.item.charAt(0).toUpperCase() + data.item.slice(1);
                row1 = reverse ? data.values[1] : data.values[0];
                row2 = reverse ? data.values[0] : data.values[1];
                
                if (reverse) {
                    const ratio = formatNumber(data.values[0][0] / data.values[1][0]);
                    explanation = `Oui ! La production est proportionnelle au temps. ${createFraction(row2[0], row1[0])} = ${ratio} ; ${createFraction(row2[1], row1[1])} = ${ratio} ; ${createFraction(row2[2], row1[2])} = ${ratio}. Le coefficient est constant.`;
                } else {
                    explanation = `Oui ! ${createFraction(row2[0], row1[0])} = ${formatNumber(data.coef)} ; ${createFraction(row2[1], row1[1])} = ${formatNumber(data.coef)} ; ${createFraction(row2[2], row1[2])} = ${formatNumber(data.coef)}. Production : ${formatNumber(data.coef)} par ${data.unit}.`;
                }
            } else if (data.cat === 'change') {
                const currencies = {
                    'euros en dollars': ['euros', 'dollars'],
                    'euros en livres': ['euros', 'livres'],
                    'euros en francs suisses': ['euros', 'francs suisses']
                };
                const [cur1, cur2] = currencies[data.item];
                header1 = reverse ? cur2.charAt(0).toUpperCase() + cur2.slice(1) : cur1.charAt(0).toUpperCase() + cur1.slice(1);
                header2 = reverse ? cur1.charAt(0).toUpperCase() + cur1.slice(1) : cur2.charAt(0).toUpperCase() + cur2.slice(1);
                row1 = reverse ? data.values[1] : data.values[0];
                row2 = reverse ? data.values[0] : data.values[1];
                
                if (reverse) {
                    const ratio = formatNumber(data.values[0][0] / data.values[1][0]);
                    explanation = `Oui ! Le taux de change est constant. ${createFraction(row2[0], row1[0])} = ${ratio} ; ${createFraction(row2[1], row1[1])} = ${ratio} ; ${createFraction(row2[2], row1[2])} = ${ratio}. Le coefficient est ${ratio}.`;
                } else {
                    explanation = `Oui ! Le taux de change est proportionnel. ${createFraction(row2[0], row1[0])} = ${formatNumber(data.coef)} ; ${createFraction(row2[1], row1[1])} = ${formatNumber(data.coef)} ; ${createFraction(row2[2], row1[2])} = ${formatNumber(data.coef)}. Taux : ${formatNumber(data.coef)}.`;
                }
            } else {
                header1 = reverse ? data.item : 'Nombre';
                header2 = reverse ? 'Nombre' : data.item;
                row1 = reverse ? data.values[1] : data.values[0];
                row2 = reverse ? data.values[0] : data.values[1];
                
                if (reverse) {
                    const ratio = formatNumber(data.values[0][0] / data.values[1][0]);
                    explanation = `Oui ! ${createFraction(row2[0], row1[0])} = ${ratio} ; ${createFraction(row2[1], row1[1])} = ${ratio} ; ${createFraction(row2[2], row1[2])} = ${ratio}. Le coefficient est ${ratio}.`;
                } else {
                    explanation = `Oui ! ${createFraction(row2[0], row1[0])} = ${formatNumber(data.coef)} ; ${createFraction(row2[1], row1[1])} = ${formatNumber(data.coef)} ; ${createFraction(row2[2], row1[2])} = ${formatNumber(data.coef)}. Le coefficient est ${formatNumber(data.coef)}.`;
                }
            }

            return {
                header: header1,
                row1: row1,
                row2Header: header2,
                row2: row2,
                isProportional: true,
                explanation: explanation
            };
        }

        function generateNonProportionalQuestion(data) {
            if (data.type === 'age') {
                const ages2 = data.ages1.map(a => a - data.diff);
                const ratio1 = formatNumber(ages2[0] / data.ages1[0]);
                const ratio2 = formatNumber(ages2[1] / data.ages1[1]);
                return {
                    header: `√Çge de ${data.person1}`,
                    row1: data.ages1,
                    row2Header: `√Çge de ${data.person2}`,
                    row2: ages2,
                    isProportional: false,
                    explanation: `Non ! L'√¢ge n'est pas une situation de proportionnalit√©. L'√©cart d'√¢ge reste constant (${data.diff} ans) mais les rapports ne sont pas √©gaux : ${createFraction(ages2[0], data.ages1[0])} = ${ratio1} ‚â† ${createFraction(ages2[1], data.ages1[1])} = ${ratio2}.`
                };
            } else if (data.type === 'aire') {
                let areas;
                if (data.power === 2) {
                    areas = data.sides.map(s => s * s);
                } else {
                    areas = data.sides.map(s => s * s * data.mult);
                }
                const ratio1 = formatNumber(areas[0] / data.sides[0]);
                const ratio2 = formatNumber(areas[1] / data.sides[1]);
                const ratio3 = formatNumber(areas[2] / data.sides[2]);
                return {
                    header: `C√¥t√© d'un ${data.shape} (cm)`,
                    row1: data.sides,
                    row2Header: `Aire du ${data.shape} (cm¬≤)`,
                    row2: areas,
                    isProportional: false,
                    explanation: `Non ! L'aire n'est pas proportionnelle au c√¥t√©. ${createFraction(areas[0], data.sides[0])} = ${ratio1} ; ${createFraction(areas[1], data.sides[1])} = ${ratio2} ; ${createFraction(areas[2], data.sides[2])} = ${ratio3}. Les rapports sont diff√©rents (aire = c√¥t√©¬≤).`
                };
            } else if (data.type === 'fixe') {
                return {
                    situation: `üöó Un ${data.service} facture ${data.base} ‚Ç¨ de prise en charge + ${formatNumber(data.perUnit)} ‚Ç¨ par ${data.unit} ${data.unit.includes('heure') ? 'travaill√©e' : 'parcouru'}.`,
                    isProportional: false,
                    explanation: `Non ! √Ä cause des ${data.base} ‚Ç¨ fixes de d√©part, ce n'est pas proportionnel. Pour 0 ${data.unit} : ${data.base} ‚Ç¨ ; pour 1 ${data.unit} : ${data.base + data.perUnit} ‚Ç¨ ; pour 2 ${data.unit} : ${data.base + 2*data.perUnit} ‚Ç¨. Les rapports ne sont pas constants.`
                };
            } else if (data.type === 'abonnement') {
                return {
                    situation: `üìö ${data.service.charAt(0).toUpperCase() + data.service.slice(1)} : abonnement annuel de ${data.price} ‚Ç¨ pour un nombre illimit√© de ${data.unit}.`,
                    isProportional: false,
                    explanation: `Non ! Le prix reste fixe (${data.price} ‚Ç¨) quel que soit le nombre de ${data.unit}. Ce n'est pas proportionnel car si on double la quantit√©, le prix ne double pas.`
                };
            } else if (data.type === 'temp') {
                return {
                    situation: `üå°Ô∏è Conversion de temp√©rature ${data.from} vers ${data.to} avec la formule : ${data.formula}`,
                    isProportional: false,
                    explanation: `Non ! La conversion de temp√©rature n'est pas proportionnelle √† cause du terme constant (+32 ou +273). Si on double la temp√©rature en ${data.from}, on ne double pas la temp√©rature en ${data.to}.`
                };
            } else if (data.type === 'suite') {
                return {
                    header: data.name.charAt(0).toUpperCase() + data.name.slice(1),
                    row1: [1, 2, 3, 4],
                    row2Header: 'Valeur',
                    row2: data.values,
                    isProportional: false,
                    explanation: `Non ! ${data.name.charAt(0).toUpperCase() + data.name.slice(1)} (${data.reason}). Les rapports ne sont pas constants : ${createFraction(data.values[0], 1)} = ${data.values[0]} ‚â† ${createFraction(data.values[1], 2)} = ${formatNumber(data.values[1]/2)}.`
                };
            }
        }

        function generateQuiz() {
            // M√©langer et s√©lectionner 4 proportionnels et 4 non-proportionnels
            const propShuffled = shuffleArray(questionBank.proportional);
            const nonPropShuffled = shuffleArray(questionBank.nonProportional);
            
            const selectedProp = propShuffled.slice(0, 4).map(d => generateProportionalQuestion(d));
            const selectedNonProp = nonPropShuffled.slice(0, 4).map(d => generateNonProportionalQuestion(d));
            
            // M√©langer toutes les questions ensemble
            const allQuestions = shuffleArray([...selectedProp, ...selectedNonProp]);
            
            quizData = allQuestions.map((data, index) => ({
                question: index + 1,
                correctAnswer: data.isProportional ? 0 : 1,
                data: data
            }));
            
            renderQuestions();
        }

        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = '';

            quizData.forEach((q, index) => {
                const data = q.data;
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-container' + (index === 0 ? ' active' : '');
                questionDiv.id = `question${q.question}`;

                let contentHTML = '';
                if (data.situation) {
                    contentHTML = `
                        <div class="question-text">
                            Cette situation est-elle une situation de proportionnalit√© ?
                        </div>
                        <div class="situation-text">
                            ${data.situation}
                        </div>
                    `;
                } else {
                    contentHTML = `
                        <div class="question-text">
                            Ce tableau repr√©sente-t-il une situation de proportionnalit√© ?
                        </div>
                        <div class="table-container">
                            <table>
                                <tr>
                                    <th>${data.header}</th>
                                    ${data.row1.map(val => `<td>${formatNumber(val)}</td>`).join('')}
                                </tr>
                                <tr>
                                    <th>${data.row2Header}</th>
                                    ${data.row2.map(val => `<td>${formatNumber(val)}</td>`).join('')}
                                </tr>
                            </table>
                        </div>
                    `;
                }

                questionDiv.innerHTML = `
                    <div class="question-header">
                        <div class="question-number">Question ${q.question}/8</div>
                    </div>
                    <div class="question-body">
                        ${contentHTML}
                        <div class="options">
                            <div class="option" onclick="selectOption(${q.question}, 0)">
                                <span class="option-label">A</span>
                                <span>Oui, c'est une situation de proportionnalit√©</span>
                            </div>
                            <div class="option" onclick="selectOption(${q.question}, 1)">
                                <span class="option-label">B</span>
                                <span>Non, ce n'est pas une situation de proportionnalit√©</span>
                            </div>
                        </div>
                        <div class="explanation" id="explanation${q.question}">
                            <div class="explanation-title">üí° Explication</div>
                            ${data.explanation}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });
        }

        function setNextEnabled(enabled) {
            const next = document.getElementById('nextBtn');
            const floating = document.getElementById('floatingNextBtn');
            if (next) next.disabled = !enabled;
            if (floating) floating.disabled = !enabled;
        }

        function selectOption(questionNum, optionIndex) {
            if (answeredQuestions.includes(questionNum)) return;

            const options = document.querySelectorAll(`#question${questionNum} .option`);
            
            options.forEach(opt => opt.classList.remove('selected'));
            options[optionIndex].classList.add('selected');
            selectedAnswer = optionIndex;
            
            document.getElementById('validateBtn').disabled = false;
        }

        function validateAnswer() {
            const questionNum = currentQuestionIndex + 1;
            const correctAnswerIndex = quizData[currentQuestionIndex].correctAnswer;
            const options = document.querySelectorAll(`#question${questionNum} .option`);
            
            answeredQuestions.push(questionNum);
            
            options.forEach(opt => {
                opt.classList.add('disabled');
                opt.style.cursor = 'not-allowed';
            });
            
            if (selectedAnswer === correctAnswerIndex) {
                options[selectedAnswer].classList.add('correct');
                score++;
            } else {
                options[selectedAnswer].classList.add('incorrect');
                options[correctAnswerIndex].classList.add('correct');
            }
            
            document.getElementById(`explanation${questionNum}`).classList.add('show');
            document.getElementById('currentScore').textContent = score;
            document.getElementById('validateBtn').style.display = 'none';
            
            if (currentQuestionIndex < quizData.length - 1) {
                setNextEnabled(true);
                document.getElementById('finishBtn').disabled = true;
            } else {
                setNextEnabled(false);
                document.getElementById('finishBtn').disabled = false;
            }
        }

        function nextQuestion() {
            document.getElementById(`question${currentQuestionIndex + 1}`).classList.remove('active');
            currentQuestionIndex++;
            document.getElementById(`question${currentQuestionIndex + 1}`).classList.add('active');
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            
            selectedAnswer = null;
            document.getElementById('validateBtn').style.display = 'block';
            document.getElementById('validateBtn').disabled = true;
            setNextEnabled(false);
            document.getElementById('finishBtn').disabled = true;
            
            if (currentQuestionIndex > 0) {
                document.getElementById('prevBtn').style.display = 'block';
            }
        }

        function previousQuestion() {
            document.getElementById(`question${currentQuestionIndex + 1}`).classList.remove('active');
            currentQuestionIndex--;
            document.getElementById(`question${currentQuestionIndex + 1}`).classList.add('active');
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            
            if (currentQuestionIndex === 0) {
                document.getElementById('prevBtn').style.display = 'none';
            }
            
            if (answeredQuestions.includes(currentQuestionIndex + 1)) {
                document.getElementById('validateBtn').style.display = 'none';
                if (currentQuestionIndex < quizData.length - 1) {
                    setNextEnabled(true);
                    document.getElementById('finishBtn').disabled = true;
                } else {
                    document.getElementById('finishBtn').disabled = false;
                    setNextEnabled(false);
                }
            } else {
                document.getElementById('validateBtn').style.display = 'block';
                setNextEnabled(false);
                document.getElementById('finishBtn').disabled = true;
            }
        }

        function showResults() {
            document.querySelector('.quiz-info').style.display = 'none';
            document.querySelectorAll('.question-container').forEach(q => q.style.display = 'none');
            document.getElementById('quizButtons').style.display = 'none';
            document.getElementById('initialNav').style.display = 'none';
            
            const floating = document.getElementById('floatingNextBtn');
            if (floating) {
                floating.style.display = 'none';
                floating.setAttribute('aria-hidden', 'true');
            }
            
            const resultsContainer = document.getElementById('resultsContainer');
            resultsContainer.classList.add('show');
            
            const totalQuestions = quizData.length;
            const incorrectCount = totalQuestions - score;
            const percentageValue = Math.round((score / totalQuestions) * 100);
            
            document.getElementById('scoreBig').textContent = `${score}/${totalQuestions}`;
            document.getElementById('correctCount').textContent = score;
            document.getElementById('incorrectCount').textContent = incorrectCount;
            document.getElementById('percentage').textContent = percentageValue + '%';
            
            const resultsScore = document.getElementById('resultsScore');
            const scoreMessage = document.getElementById('scoreMessage');
            
            if (percentageValue === 100) {
                scoreMessage.textContent = 'üèÜ Parfait ! Tu reconnais parfaitement les situations de proportionnalit√© !';
                resultsScore.className = 'results-score';
            } else if (percentageValue >= 75) {
                scoreMessage.textContent = 'üåü Tr√®s bien ! Tu as bien compris la proportionnalit√© !';
                resultsScore.className = 'results-score';
            } else if (percentageValue >= 50) {
                scoreMessage.textContent = 'üëç Pas mal ! R√©vise les cas particuliers (√¢ges, aires, prix fixes) !';
                resultsScore.className = 'results-score medium';
            } else {
                scoreMessage.textContent = 'üí™ Continue √† t\'entra√Æner, tu vas y arriver !';
                resultsScore.className = 'results-score low';
            }
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            selectedAnswer = null;
            answeredQuestions = [];
            
            generateQuiz();
            
            document.querySelector('.quiz-info').style.display = 'flex';
            document.getElementById('quizButtons').style.display = 'flex';
            document.getElementById('initialNav').style.display = 'flex';
            document.getElementById('resultsContainer').classList.remove('show');
            
            document.getElementById('validateBtn').style.display = 'block';
            document.getElementById('validateBtn').disabled = true;
            document.getElementById('prevBtn').style.display = 'none';
            setNextEnabled(false);
            document.getElementById('finishBtn').disabled = true;
            
            const floatingBtn = document.getElementById('floatingNextBtn');
            if (floatingBtn) {
                floatingBtn.style.display = 'inline-block';
                floatingBtn.setAttribute('aria-hidden', 'false');
            }
            
            document.getElementById('currentQuestion').textContent = '1';
            document.getElementById('currentScore').textContent = '0';
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        generateQuiz();
    </script>
</body>
</html>